import{f as ie,u as dt,o as Me,d as ft,j as b,e as ge,g as ce,h as Ct,i as Rt,k as jt,l as Tt,m as Ot,n as Ut,T as Mt,I as Pt,p as yt,C as Gt,q as pe,B as qt,c as Bt}from"../../../assets/js/Newtab.NwAjTfH0.js";import{r as Se,R,s as Ht,o as le,b as tt}from"../../../assets/js/cache-images.iaijA35r.js";function zt(e){const s=Object.assign({},e);for(let i in s)s[i]===void 0&&delete s[i];return s}function Wt(e){return Se.Children.toArray(e).filter(s=>Se.isValidElement(s))}var re=ie(function(s,i){var r;const a=dt("FormLabel",s),l=Me(s),{className:o,children:m,requiredIndicator:h=b.jsx(ht,{}),optionalIndicator:k=null,...V}=l,x=ft(),v=(r=x==null?void 0:x.getLabelProps(V,i))!=null?r:{ref:i,...V};return b.jsxs(ge.label,{...v,className:ce("chakra-form__label",l.className),__css:{display:"block",textAlign:"start",...a},children:[m,x!=null&&x.isRequired?h:k]})});re.displayName="FormLabel";var ht=ie(function(s,i){const r=ft(),a=Ct();if(!(r!=null&&r.isRequired))return null;const l=ce("chakra-form__required-indicator",s.className);return b.jsx(ge.span,{...r==null?void 0:r.getRequiredIndicatorProps(s,i),__css:a.requiredIndicator,className:l})});ht.displayName="RequiredIndicator";var[$t,Kt]=Rt({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),gt=ie(function(s,i){const r=jt("Input",s),{children:a,className:l,...o}=Me(s),m=ce("chakra-input__group",l),h={},k=Wt(a),V=r.field;k.forEach(v=>{var T,D;r&&(V&&v.type.id==="InputLeftElement"&&(h.paddingStart=(T=V.height)!=null?T:V.h),V&&v.type.id==="InputRightElement"&&(h.paddingEnd=(D=V.height)!=null?D:V.h),v.type.id==="InputRightAddon"&&(h.borderEndRadius=0),v.type.id==="InputLeftAddon"&&(h.borderStartRadius=0))});const x=k.map(v=>{var T,D;const Z=zt({size:((T=v.props)==null?void 0:T.size)||s.size,variant:((D=v.props)==null?void 0:D.variant)||s.variant});return v.type.id!=="Input"?Se.cloneElement(v,Z):Se.cloneElement(v,Object.assign(Z,h,v.props))});return b.jsx(ge.div,{className:m,ref:i,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...o,children:b.jsx($t,{value:r,children:x})})});gt.displayName="InputGroup";var Jt=ge("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Fe=ie(function(s,i){var r,a;const{placement:l="left",...o}=s,m=Kt(),h=m.field,V={[l==="left"?"insetStart":"insetEnd"]:"0",width:(r=h==null?void 0:h.height)!=null?r:h==null?void 0:h.h,height:(a=h==null?void 0:h.height)!=null?a:h==null?void 0:h.h,fontSize:h==null?void 0:h.fontSize,...m.element};return b.jsx(Jt,{ref:i,__css:V,...o})});Fe.id="InputElement";Fe.displayName="InputElement";var vt=ie(function(s,i){const{className:r,...a}=s,l=ce("chakra-input__left-element",r);return b.jsx(Fe,{ref:i,placement:"left",className:l,...a})});vt.id="InputLeftElement";vt.displayName="InputLeftElement";var Pe=ie(function(s,i){const{className:r,...a}=s,l=ce("chakra-input__right-element",r);return b.jsx(Fe,{ref:i,placement:"right",className:l,...a})});Pe.id="InputRightElement";Pe.displayName="InputRightElement";function Qt(e,s=[]){const i=Object.assign({},e);for(const r of s)r in i&&delete i[r];return i}var Xt=["h","minH","height","minHeight"],mt=ie((e,s)=>{const i=dt("Textarea",e),{className:r,rows:a,...l}=Me(e),o=Tt(l),m=a?Qt(i,Xt):i;return b.jsx(ge.textarea,{ref:s,rows:a,...o,className:ce("chakra-textarea",r),__css:m})});mt.displayName="Textarea";var ve=e=>e.type==="checkbox",oe=e=>e instanceof Date,j=e=>e==null;const bt=e=>typeof e=="object";var E=e=>!j(e)&&!Array.isArray(e)&&bt(e)&&!oe(e),Yt=e=>E(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,Zt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,er=(e,s)=>e.has(Zt(s)),tr=e=>{const s=e.constructor&&e.constructor.prototype;return E(s)&&s.hasOwnProperty("isPrototypeOf")},Ge=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let s;const i=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Ge&&(e instanceof Blob||e instanceof FileList))&&(i||E(e)))if(s=i?[]:{},!i&&!tr(e))s=e;else for(const r in e)e.hasOwnProperty(r)&&(s[r]=M(e[r]));else return e;return s}var me=e=>Array.isArray(e)?e.filter(Boolean):[],I=e=>e===void 0,y=(e,s,i)=>{if(!s||!E(e))return i;const r=me(s.split(/[,[\].]+?/)).reduce((a,l)=>j(a)?a:a[l],e);return I(r)||r===e?I(e[s])?i:e[s]:r},Q=e=>typeof e=="boolean";const rt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};R.createContext(null);var rr=(e,s,i,r=!0)=>{const a={defaultValues:s._defaultValues};for(const l in e)Object.defineProperty(a,l,{get:()=>{const o=l;return s._proxyFormState[o]!==G.all&&(s._proxyFormState[o]=!r||G.all),i&&(i[o]=!0),e[o]}});return a},P=e=>E(e)&&!Object.keys(e).length,sr=(e,s,i,r)=>{i(e);const{name:a,...l}=e;return P(l)||Object.keys(l).length>=Object.keys(s).length||Object.keys(l).find(o=>s[o]===(!r||G.all))},je=e=>Array.isArray(e)?e:[e];function ir(e){const s=R.useRef(e);s.current=e,R.useEffect(()=>{const i=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}var z=e=>typeof e=="string",nr=(e,s,i,r,a)=>z(e)?(r&&s.watch.add(e),y(i,e,a)):Array.isArray(e)?e.map(l=>(r&&s.watch.add(l),y(i,l))):(r&&(s.watchAll=!0),i),qe=e=>/^\w*$/.test(e),pt=e=>me(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,s,i)=>{let r=-1;const a=qe(s)?[s]:pt(s),l=a.length,o=l-1;for(;++r<l;){const m=a[r];let h=i;if(r!==o){const k=e[m];h=E(k)||Array.isArray(k)?k:isNaN(+a[r+1])?{}:[]}e[m]=h,e=e[m]}return e},ar=(e,s,i,r,a)=>s?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[r]:a||!0}}:{},st=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),it=(e,s,i)=>!i&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const he=(e,s,i,r)=>{for(const a of i||Object.keys(e)){const l=y(e,a);if(l){const{_f:o,...m}=l;if(o){if(o.refs&&o.refs[0]&&s(o.refs[0],a)&&!r)break;if(o.ref&&s(o.ref,o.name)&&!r)break;he(m,s)}else E(m)&&he(m,s)}}};var lr=(e,s,i)=>{const r=me(y(e,i));return w(r,"root",s[i]),w(e,i,r),e},Be=e=>e.type==="file",Y=e=>typeof e=="function",Ve=e=>{if(!Ge)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},xe=e=>z(e),He=e=>e.type==="radio",Ae=e=>e instanceof RegExp;const nt={value:!1,isValid:!1},at={value:!0,isValid:!0};var _t=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!I(e[0].attributes.value)?I(e[0].value)||e[0].value===""?at:{value:e[0].value,isValid:!0}:at:nt}return nt};const lt={isValid:!1,value:null};var xt=e=>Array.isArray(e)?e.reduce((s,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:s,lt):lt;function ut(e,s,i="validate"){if(xe(e)||Array.isArray(e)&&e.every(xe)||Q(e)&&!e)return{type:i,message:xe(e)?e:"",ref:s}}var ue=e=>E(e)&&!Ae(e)?e:{value:e,message:""},ot=async(e,s,i,r,a)=>{const{ref:l,refs:o,required:m,maxLength:h,minLength:k,min:V,max:x,pattern:v,validate:T,name:D,valueAsNumber:Z,mount:Ie,disabled:X}=e._f,_=y(s,D);if(!Ie||X)return{};const W=o?o[0]:l,$=S=>{r&&W.reportValidity&&(W.setCustomValidity(Q(S)?"":S||""),W.reportValidity())},N={},de=He(l),ne=ve(l),Ee=de||ne,q=(Z||Be(l))&&I(l.value)&&I(_)||Ve(l)&&l.value===""||_===""||Array.isArray(_)&&!_.length,ee=ar.bind(null,D,i,N),K=(S,p,F,O=J.maxLength,U=J.minLength)=>{const B=S?p:F;N[D]={type:S?O:U,message:B,ref:l,...ee(S?O:U,B)}};if(a?!Array.isArray(_)||!_.length:m&&(!Ee&&(q||j(_))||Q(_)&&!_||ne&&!_t(o).isValid||de&&!xt(o).isValid)){const{value:S,message:p}=xe(m)?{value:!!m,message:m}:ue(m);if(S&&(N[D]={type:J.required,message:p,ref:W,...ee(J.required,p)},!i))return $(p),N}if(!q&&(!j(V)||!j(x))){let S,p;const F=ue(x),O=ue(V);if(!j(_)&&!isNaN(_)){const U=l.valueAsNumber||_&&+_;j(F.value)||(S=U>F.value),j(O.value)||(p=U<O.value)}else{const U=l.valueAsDate||new Date(_),B=be=>new Date(new Date().toDateString()+" "+be),te=l.type=="time",fe=l.type=="week";z(F.value)&&_&&(S=te?B(_)>B(F.value):fe?_>F.value:U>new Date(F.value)),z(O.value)&&_&&(p=te?B(_)<B(O.value):fe?_<O.value:U<new Date(O.value))}if((S||p)&&(K(!!S,F.message,O.message,J.max,J.min),!i))return $(N[D].message),N}if((h||k)&&!q&&(z(_)||a&&Array.isArray(_))){const S=ue(h),p=ue(k),F=!j(S.value)&&_.length>+S.value,O=!j(p.value)&&_.length<+p.value;if((F||O)&&(K(F,S.message,p.message),!i))return $(N[D].message),N}if(v&&!q&&z(_)){const{value:S,message:p}=ue(v);if(Ae(S)&&!_.match(S)&&(N[D]={type:J.pattern,message:p,ref:l,...ee(J.pattern,p)},!i))return $(p),N}if(T){if(Y(T)){const S=await T(_,s),p=ut(S,W);if(p&&(N[D]={...p,...ee(J.validate,p.message)},!i))return $(p.message),N}else if(E(T)){let S={};for(const p in T){if(!P(S)&&!i)break;const F=ut(await T[p](_,s),W,p);F&&(S={...F,...ee(p,F.message)},$(F.message),i&&(N[D]=S))}if(!P(S)&&(N[D]={ref:W,...S},!i))return N}}return $(!0),N};function ur(e,s){const i=s.slice(0,-1).length;let r=0;for(;r<i;)e=I(e)?r++:e[s[r++]];return e}function or(e){for(const s in e)if(e.hasOwnProperty(s)&&!I(e[s]))return!1;return!0}function C(e,s){const i=Array.isArray(s)?s:qe(s)?[s]:pt(s),r=i.length===1?e:ur(e,i),a=i.length-1,l=i[a];return r&&delete r[l],a!==0&&(E(r)&&P(r)||Array.isArray(r)&&or(r))&&C(e,i.slice(0,-1)),e}var Te=()=>{let e=[];return{get observers(){return e},next:a=>{for(const l of e)l.next&&l.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(l=>l!==a)}}),unsubscribe:()=>{e=[]}}},we=e=>j(e)||!bt(e);function se(e,s){if(we(e)||we(s))return e===s;if(oe(e)&&oe(s))return e.getTime()===s.getTime();const i=Object.keys(e),r=Object.keys(s);if(i.length!==r.length)return!1;for(const a of i){const l=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const o=s[a];if(oe(l)&&oe(o)||E(l)&&E(o)||Array.isArray(l)&&Array.isArray(o)?!se(l,o):l!==o)return!1}}return!0}var St=e=>e.type==="select-multiple",cr=e=>He(e)||ve(e),Oe=e=>Ve(e)&&e.isConnected,Vt=e=>{for(const s in e)if(Y(e[s]))return!0;return!1};function ke(e,s={}){const i=Array.isArray(e);if(E(e)||i)for(const r in e)Array.isArray(e[r])||E(e[r])&&!Vt(e[r])?(s[r]=Array.isArray(e[r])?[]:{},ke(e[r],s[r])):j(e[r])||(s[r]=!0);return s}function At(e,s,i){const r=Array.isArray(e);if(E(e)||r)for(const a in e)Array.isArray(e[a])||E(e[a])&&!Vt(e[a])?I(s)||we(i[a])?i[a]=Array.isArray(e[a])?ke(e[a],[]):{...ke(e[a])}:At(e[a],j(s)?{}:s[a],i[a]):i[a]=!se(e[a],s[a]);return i}var _e=(e,s)=>At(e,s,ke(s)),wt=(e,{valueAsNumber:s,valueAsDate:i,setValueAs:r})=>I(e)?e:s?e===""?NaN:e&&+e:i&&z(e)?new Date(e):r?r(e):e;function Ue(e){const s=e.ref;if(!(e.refs?e.refs.every(i=>i.disabled):s.disabled))return Be(s)?s.files:He(s)?xt(e.refs).value:St(s)?[...s.selectedOptions].map(({value:i})=>i):ve(s)?_t(e.refs).value:wt(I(s.value)?e.ref.value:s.value,e)}var dr=(e,s,i,r)=>{const a={};for(const l of e){const o=y(s,l);o&&w(a,l,o._f)}return{criteriaMode:i,names:[...e],fields:a,shouldUseNativeValidation:r}},ye=e=>I(e)?e:Ae(e)?e.source:E(e)?Ae(e.value)?e.value.source:e.value:e,fr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ct(e,s,i){const r=y(e,i);if(r||qe(i))return{error:r,name:i};const a=i.split(".");for(;a.length;){const l=a.join("."),o=y(s,l),m=y(e,l);if(o&&!Array.isArray(o)&&i!==l)return{name:i};if(m&&m.type)return{name:l,error:m};a.pop()}return{name:i}}var yr=(e,s,i,r,a)=>a.isOnAll?!1:!i&&a.isOnTouch?!(s||e):(i?r.isOnBlur:a.isOnBlur)?!e:(i?r.isOnChange:a.isOnChange)?e:!0,hr=(e,s)=>!me(y(e,s)).length&&C(e,s);const gr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function vr(e={},s){let i={...gr,...e},r={submitCount:0,isDirty:!1,isLoading:Y(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:i.errors||{},disabled:i.disabled||!1},a={},l=E(i.values)||E(i.defaultValues)?M(i.values||i.defaultValues)||{}:{},o=i.shouldUnregister?{}:M(l),m={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},k,V=0;const x={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Te(),array:Te(),state:Te()},T=st(i.mode),D=st(i.reValidateMode),Z=i.criteriaMode===G.all,Ie=t=>n=>{clearTimeout(V),V=setTimeout(t,n)},X=async t=>{if(x.isValid||t){const n=i.resolver?P((await q()).errors):await K(a,!0);n!==r.isValid&&v.state.next({isValid:n})}},_=t=>x.isValidating&&v.state.next({isValidating:t}),W=(t,n=[],u,f,d=!0,c=!0)=>{if(f&&u){if(m.action=!0,c&&Array.isArray(y(a,t))){const g=u(y(a,t),f.argA,f.argB);d&&w(a,t,g)}if(c&&Array.isArray(y(r.errors,t))){const g=u(y(r.errors,t),f.argA,f.argB);d&&w(r.errors,t,g),hr(r.errors,t)}if(x.touchedFields&&c&&Array.isArray(y(r.touchedFields,t))){const g=u(y(r.touchedFields,t),f.argA,f.argB);d&&w(r.touchedFields,t,g)}x.dirtyFields&&(r.dirtyFields=_e(l,o)),v.state.next({name:t,isDirty:p(t,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else w(o,t,n)},$=(t,n)=>{w(r.errors,t,n),v.state.next({errors:r.errors})},N=t=>{r.errors=t,v.state.next({errors:r.errors,isValid:!1})},de=(t,n,u,f)=>{const d=y(a,t);if(d){const c=y(o,t,I(u)?y(l,t):u);I(c)||f&&f.defaultChecked||n?w(o,t,n?c:Ue(d._f)):U(t,c),m.mount&&X()}},ne=(t,n,u,f,d)=>{let c=!1,g=!1;const A={name:t},L=!!(y(a,t)&&y(a,t)._f.disabled);if(!u||f){x.isDirty&&(g=r.isDirty,r.isDirty=A.isDirty=p(),c=g!==A.isDirty);const H=L||se(y(l,t),n);g=!!(!L&&y(r.dirtyFields,t)),H||L?C(r.dirtyFields,t):w(r.dirtyFields,t,!0),A.dirtyFields=r.dirtyFields,c=c||x.dirtyFields&&g!==!H}if(u){const H=y(r.touchedFields,t);H||(w(r.touchedFields,t,u),A.touchedFields=r.touchedFields,c=c||x.touchedFields&&H!==u)}return c&&d&&v.state.next(A),c?A:{}},Ee=(t,n,u,f)=>{const d=y(r.errors,t),c=x.isValid&&Q(n)&&r.isValid!==n;if(e.delayError&&u?(k=Ie(()=>$(t,u)),k(e.delayError)):(clearTimeout(V),k=null,u?w(r.errors,t,u):C(r.errors,t)),(u?!se(d,u):d)||!P(f)||c){const g={...f,...c&&Q(n)?{isValid:n}:{},errors:r.errors,name:t};r={...r,...g},v.state.next(g)}_(!1)},q=async t=>i.resolver(o,i.context,dr(t||h.mount,a,i.criteriaMode,i.shouldUseNativeValidation)),ee=async t=>{const{errors:n}=await q(t);if(t)for(const u of t){const f=y(n,u);f?w(r.errors,u,f):C(r.errors,u)}else r.errors=n;return n},K=async(t,n,u={valid:!0})=>{for(const f in t){const d=t[f];if(d){const{_f:c,...g}=d;if(c){const A=h.array.has(c.name),L=await ot(d,o,Z,i.shouldUseNativeValidation&&!n,A);if(L[c.name]&&(u.valid=!1,n))break;!n&&(y(L,c.name)?A?lr(r.errors,L,c.name):w(r.errors,c.name,L[c.name]):C(r.errors,c.name))}g&&await K(g,n,u)}}return u.valid},S=()=>{for(const t of h.unMount){const n=y(a,t);n&&(n._f.refs?n._f.refs.every(u=>!Oe(u)):!Oe(n._f.ref))&&Ne(t)}h.unMount=new Set},p=(t,n)=>(t&&n&&w(o,t,n),!se(ze(),l)),F=(t,n,u)=>nr(t,h,{...m.mount?o:I(n)?l:z(t)?{[t]:n}:n},u,n),O=t=>me(y(m.mount?o:l,t,e.shouldUnregister?y(l,t,[]):[])),U=(t,n,u={})=>{const f=y(a,t);let d=n;if(f){const c=f._f;c&&(!c.disabled&&w(o,t,wt(n,c)),d=Ve(c.ref)&&j(n)?"":n,St(c.ref)?[...c.ref.options].forEach(g=>g.selected=d.includes(g.value)):c.refs?ve(c.ref)?c.refs.length>1?c.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(d)?!!d.find(A=>A===g.value):d===g.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(g=>g.checked=g.value===d):Be(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||v.values.next({name:t,values:{...o}})))}(u.shouldDirty||u.shouldTouch)&&ne(t,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&De(t)},B=(t,n,u)=>{for(const f in n){const d=n[f],c=`${t}.${f}`,g=y(a,c);(h.array.has(t)||!we(d)||g&&!g._f)&&!oe(d)?B(c,d,u):U(c,d,u)}},te=(t,n,u={})=>{const f=y(a,t),d=h.array.has(t),c=M(n);w(o,t,c),d?(v.array.next({name:t,values:{...o}}),(x.isDirty||x.dirtyFields)&&u.shouldDirty&&v.state.next({name:t,dirtyFields:_e(l,o),isDirty:p(t,c)})):f&&!f._f&&!j(c)?B(t,c,u):U(t,c,u),it(t,h)&&v.state.next({...r}),v.values.next({name:t,values:{...o}}),!m.mount&&s()},fe=async t=>{const n=t.target;let u=n.name,f=!0;const d=y(a,u),c=()=>n.type?Ue(d._f):Yt(t),g=A=>{f=Number.isNaN(A)||A===y(o,u,A)};if(d){let A,L;const H=c(),ae=t.type===rt.BLUR||t.type===rt.FOCUS_OUT,Dt=!fr(d._f)&&!i.resolver&&!y(r.errors,u)&&!d._f.deps||yr(ae,y(r.touchedFields,u),r.isSubmitted,D,T),Ce=it(u,h,ae);w(o,u,H),ae?(d._f.onBlur&&d._f.onBlur(t),k&&k(0)):d._f.onChange&&d._f.onChange(t);const Re=ne(u,H,ae,!1),Nt=!P(Re)||Ce;if(!ae&&v.values.next({name:u,type:t.type,values:{...o}}),Dt)return x.isValid&&X(),Nt&&v.state.next({name:u,...Ce?{}:Re});if(!ae&&Ce&&v.state.next({...r}),_(!0),i.resolver){const{errors:Ze}=await q([u]);if(g(H),f){const Lt=ct(r.errors,a,u),et=ct(Ze,a,Lt.name||u);A=et.error,u=et.name,L=P(Ze)}}else A=(await ot(d,o,Z,i.shouldUseNativeValidation))[u],g(H),f&&(A?L=!1:x.isValid&&(L=await K(a,!0)));f&&(d._f.deps&&De(d._f.deps),Ee(u,L,A,Re))}},be=(t,n)=>{if(y(r.errors,n)&&t.focus)return t.focus(),1},De=async(t,n={})=>{let u,f;const d=je(t);if(_(!0),i.resolver){const c=await ee(I(t)?t:d);u=P(c),f=t?!d.some(g=>y(c,g)):u}else t?(f=(await Promise.all(d.map(async c=>{const g=y(a,c);return await K(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!f&&!r.isValid)&&X()):f=u=await K(a);return v.state.next({...!z(t)||x.isValid&&u!==r.isValid?{}:{name:t},...i.resolver||!t?{isValid:u}:{},errors:r.errors,isValidating:!1}),n.shouldFocus&&!f&&he(a,be,t?d:h.mount),f},ze=t=>{const n={...l,...m.mount?o:{}};return I(t)?n:z(t)?y(n,t):t.map(u=>y(n,u))},We=(t,n)=>({invalid:!!y((n||r).errors,t),isDirty:!!y((n||r).dirtyFields,t),isTouched:!!y((n||r).touchedFields,t),error:y((n||r).errors,t)}),kt=t=>{t&&je(t).forEach(n=>C(r.errors,n)),v.state.next({errors:t?r.errors:{}})},$e=(t,n,u)=>{const f=(y(a,t,{_f:{}})._f||{}).ref;w(r.errors,t,{...n,ref:f}),v.state.next({name:t,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&f&&f.focus&&f.focus()},Ft=(t,n)=>Y(t)?v.values.subscribe({next:u=>t(F(void 0,n),u)}):F(t,n,!0),Ne=(t,n={})=>{for(const u of t?je(t):h.mount)h.mount.delete(u),h.array.delete(u),n.keepValue||(C(a,u),C(o,u)),!n.keepError&&C(r.errors,u),!n.keepDirty&&C(r.dirtyFields,u),!n.keepTouched&&C(r.touchedFields,u),!i.shouldUnregister&&!n.keepDefaultValue&&C(l,u);v.values.next({values:{...o}}),v.state.next({...r,...n.keepDirty?{isDirty:p()}:{}}),!n.keepIsValid&&X()},Ke=({disabled:t,name:n,field:u,fields:f,value:d})=>{if(Q(t)){const c=t?void 0:I(d)?Ue(u?u._f:y(f,n)._f):d;w(o,n,c),ne(n,c,!1,!1,!0)}},Le=(t,n={})=>{let u=y(a,t);const f=Q(n.disabled);return w(a,t,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:t}},name:t,mount:!0,...n}}),h.mount.add(t),u?Ke({field:u,disabled:n.disabled,name:t,value:n.value}):de(t,!0,n.value),{...f?{disabled:n.disabled}:{},...i.progressive?{required:!!n.required,min:ye(n.min),max:ye(n.max),minLength:ye(n.minLength),maxLength:ye(n.maxLength),pattern:ye(n.pattern)}:{},name:t,onChange:fe,onBlur:fe,ref:d=>{if(d){Le(t,n),u=y(a,t);const c=I(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=cr(c),A=u._f.refs||[];if(g?A.find(L=>L===c):c===u._f.ref)return;w(a,t,{_f:{...u._f,...g?{refs:[...A.filter(Oe),c,...Array.isArray(y(l,t))?[{}]:[]],ref:{type:c.type,name:t}}:{ref:c}}}),de(t,!1,void 0,c)}else u=y(a,t,{}),u._f&&(u._f.mount=!1),(i.shouldUnregister||n.shouldUnregister)&&!(er(h.array,t)&&m.action)&&h.unMount.add(t)}}},Je=()=>i.shouldFocusError&&he(a,be,h.mount),It=t=>{Q(t)&&(v.state.next({disabled:t}),he(a,(n,u)=>{let f=t;const d=y(a,u);d&&Q(d._f.disabled)&&(f||(f=d._f.disabled)),n.disabled=f},0,!1))},Qe=(t,n)=>async u=>{let f;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let d=M(o);if(v.state.next({isSubmitting:!0}),i.resolver){const{errors:c,values:g}=await q();r.errors=c,d=g}else await K(a);if(C(r.errors,"root"),P(r.errors)){v.state.next({errors:{}});try{await t(d,u)}catch(c){f=c}}else n&&await n({...r.errors},u),Je(),setTimeout(Je);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(r.errors)&&!f,submitCount:r.submitCount+1,errors:r.errors}),f)throw f},Et=(t,n={})=>{y(a,t)&&(I(n.defaultValue)?te(t,M(y(l,t))):(te(t,n.defaultValue),w(l,t,M(n.defaultValue))),n.keepTouched||C(r.touchedFields,t),n.keepDirty||(C(r.dirtyFields,t),r.isDirty=n.defaultValue?p(t,M(y(l,t))):p()),n.keepError||(C(r.errors,t),x.isValid&&X()),v.state.next({...r}))},Xe=(t,n={})=>{const u=t?M(t):l,f=M(u),d=t&&!P(t)?f:l;if(n.keepDefaultValues||(l=u),!n.keepValues){if(n.keepDirtyValues)for(const c of h.mount)y(r.dirtyFields,c)?w(d,c,y(o,c)):te(c,y(d,c));else{if(Ge&&I(t))for(const c of h.mount){const g=y(a,c);if(g&&g._f){const A=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(Ve(A)){const L=A.closest("form");if(L){L.reset();break}}}}a={}}o=e.shouldUnregister?n.keepDefaultValues?M(l):{}:M(d),v.array.next({values:{...d}}),v.values.next({values:{...d}})}h={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!m.mount&&s(),m.mount=!x.isValid||!!n.keepIsValid||!!n.keepDirtyValues,m.watch=!!e.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!se(t,l)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:n.keepDirtyValues?n.keepDefaultValues&&o?_e(l,o):r.dirtyFields:n.keepDefaultValues&&t?_e(l,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(t,n)=>Xe(Y(t)?t(o):t,n);return{control:{register:Le,unregister:Ne,getFieldState:We,handleSubmit:Qe,setError:$e,_executeSchema:q,_getWatch:F,_getDirty:p,_updateValid:X,_removeUnmounted:S,_updateFieldArray:W,_updateDisabledField:Ke,_getFieldArray:O,_reset:Xe,_resetDefaultValues:()=>Y(i.defaultValues)&&i.defaultValues().then(t=>{Ye(t,i.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:t=>{r={...r,...t}},_disableForm:It,_subjects:v,_proxyFormState:x,_setErrors:N,get _fields(){return a},get _formValues(){return o},get _state(){return m},set _state(t){m=t},get _defaultValues(){return l},get _names(){return h},set _names(t){h=t},get _formState(){return r},set _formState(t){r=t},get _options(){return i},set _options(t){i={...i,...t}}},trigger:De,register:Le,handleSubmit:Qe,watch:Ft,setValue:te,getValues:ze,reset:Ye,resetField:Et,clearErrors:kt,unregister:Ne,setError:$e,setFocus:(t,n={})=>{const u=y(a,t),f=u&&u._f;if(f){const d=f.refs?f.refs[0]:f.ref;d.focus&&(d.focus(),n.shouldSelect&&d.select())}},getFieldState:We}}function mr(e={}){const s=R.useRef(),i=R.useRef(),[r,a]=R.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...vr(e,()=>a(o=>({...o}))),formState:r});const l=s.current.control;return l._options=e,ir({subject:l._subjects.state,next:o=>{sr(o,l._proxyFormState,l._updateFormState,!0)&&a({...l._formState})}}),R.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),R.useEffect(()=>{if(l._proxyFormState.isDirty){const o=l._getDirty();o!==r.isDirty&&l._subjects.state.next({isDirty:o})}},[l,r.isDirty]),R.useEffect(()=>{e.values&&!se(e.values,i.current)?(l._reset(e.values,l._options.resetOptions),i.current=e.values,a(o=>({...o}))):l._resetDefaultValues()},[e.values,l]),R.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),R.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),R.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),s.current.formState=rr(r,l),s.current}const br=()=>{const e=R.useRef(null);return b.jsxs(b.Fragment,{children:[b.jsx("input",{ref:e,type:"file",accept:"application/json",className:"hidden",onChange:s=>{var r;console.log("click",s);const i=(r=s.currentTarget.files)==null?void 0:r[0];if(i){const a=new FileReader;a.onload=function(l){var m;const o=(m=l.target)==null?void 0:m.result;if(o){const h=JSON.parse(o),k=Object.keys(h).sort(),V=["groupsMap","groupsSort","selectedGroupId","allSpacesMap"];k.filter(x=>V.includes(x)).length===V.length?(Ot.setState(x=>({...x,...h})),Ht.set(h)):Ut.confirm({title:"Upload Error",content:"The file is not a valid backup file",onOk:()=>{}})}},a.readAsText(i)}}}),b.jsx(Mt,{label:"上传备份文件",children:b.jsx(Pt,{"aria-label":"Save",icon:b.jsx(yt,{icon:"ic:round-upload-file",width:"24",height:"24"}),onClick:()=>{var s;(s=e.current)==null||s.click()}})})]})},pr=e=>b.jsx(yt,{inline:!0,icon:"mdi:github",width:"20",height:"20",className:"cursor-pointer",onClick:e.onClick}),_r=()=>{var o,m,h;const[e,s]=R.useState(!1),{register:i,handleSubmit:r,watch:a,setValue:l}=mr({defaultValues:{syncGistId:le.getSnapshot().syncGistId,token:le.getSnapshot().token,backupGistId:le.getSnapshot().backupGistId,githubUsername:(o=le.getSnapshot())==null?void 0:o.githubUsername,faviconSyncList:(m=le.getSnapshot())==null?void 0:m.faviconSyncList,deviceId:(h=tt.getSnapshot())==null?void 0:h.deviceId}});return R.useEffect(()=>{const k=a((V,{name:x,type:v})=>{v==="change"&&(le.set({gistId:V.backupGistId,backupGistId:V.backupGistId,syncGistId:V.syncGistId,token:V.token,githubUsername:V.githubUsername,faviconSyncList:V.faviconSyncList}),tt.set({deviceId:V.deviceId}))});return()=>k.unsubscribe()},[a]),b.jsx(Gt,{children:b.jsxs("div",{className:"m-12 max-w-lg",children:[b.jsx(re,{children:"GitHub Username"}),b.jsx(pe,{...i("githubUsername"),className:"mb-6"}),b.jsx(re,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{children:"Sync Gist ID"}),b.jsx(pr,{onClick:()=>{window.open(`https://gist.github.com/${a("githubUsername")}/${a("syncGistId")}`,"_blank")}})]})}),b.jsx(pe,{...i("syncGistId"),className:"mb-6"}),b.jsx(re,{children:"Gist Token"}),b.jsxs(gt,{children:[b.jsx(pe,{...i("token"),className:"mb-6",type:e?"text":"password"}),b.jsx(Pe,{width:"4.5rem",children:b.jsx(qt,{h:"1.75rem",size:"sm",onClick:()=>{s(!e)},children:e?"Hide":"Show"})})]}),b.jsx(re,{children:"Device Id"}),b.jsx(pe,{...i("deviceId"),className:"mb-6"}),b.jsx(re,{children:"Favicon Sync List"}),b.jsx(mt,{...i("faviconSyncList"),className:"mb-6"}),b.jsx(re,{children:"Other Actions"}),b.jsx(br,{})]})})};function xr(){const e=document.querySelector("#app-container");if(!e)throw new Error("Can not find #app-container");Bt(e).render(b.jsx(_r,{}))}xr();
